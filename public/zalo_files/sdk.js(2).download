"use strict";function toQuery(c){var d="";for(var f in c)""!=d&&(d+="&"),d+=f+"="+encodeURIComponent(c[f]);return d}function printSystemInfo(){window.logData={},window.logData.prj=window.zprj;var c=navigator.userAgent,d="",f=c.match(/(ipod).*\s([\d_]+)/i),g=c.match(/(ipad).*\s([\d_]+)/i),h=c.match(/(iphone)\sos\s([\d_]+)/i),i=c.match(/(android)\s([\d\.]+)/i);d="Unknown",i?d="Android "+i[2]:h?d="iPhone, iOS "+h[2].replace(/_/g,"."):g?d="iPad, iOS "+g[2].replace(/_/g,"."):f&&(d="iPod, iOS "+f[2].replace(/_/g,"."));var j=d,k=c.match(/MicroMessenger\/([\d\.]+)/i);d="Unknown",k&&k[1]?(d=k[1],j+=", WeChat "+d,console.info("[system]","System:",j),window.logData.system=j):(console.info("[system]","System:",j),window.logData.system=j),d="Unknown",d="https:"==location.protocol?"HTTPS":"http:"==location.protocol?"HTTP":location.protocol.replace(":",""),j=d;var l=c.toLowerCase().match(/ nettype\/([^ ]+)/g);d="Unknown",l&&l[0]?(l=l[0].split("/"),d=l[1],j+=", "+d,console.info("[system]","Network:",j),window.logData.network=j):(console.info("[system]","Protocol:",j),window.logData.protocol=j),setTimeout(function(){var n=window.performance||window.msPerformance||window.webkitPerformance;if(n&&n.getEntriesByType("resource")){var o=n.getEntriesByType("resource");if(0<o.length){var p=[];o.map(function(r){p.push({name:r.name,time:r.duration})}),p=p.sort(function(r,s){return r.time<s.time?1:s.time<r.time?-1:0}),p=p.splice(0,40),window.logData.dataResource=JSON.stringify(p)}}if(n&&n.timing){var q=n.timing;q.navigationStart&&(console.info("[system]","navigationStart:",q.navigationStart),window.logData.navigationStart=q.navigationStart),q.navigationStart&&q.domainLookupStart&&(console.info("[system]","navigation:",q.domainLookupStart-q.navigationStart+"ms"),window.logData.navigation=q.domainLookupStart-q.navigationStart),q.domainLookupEnd&&q.domainLookupStart&&(console.info("[system]","dns:",q.domainLookupEnd-q.domainLookupStart+"ms"),window.logData.dns=q.domainLookupEnd-q.domainLookupStart),q.connectEnd&&q.connectStart&&(q.connectEnd&&q.secureConnectionStart?(console.info("[system]","tcp (ssl):",q.connectEnd-q.connectStart+"ms ("+(q.connectEnd-q.secureConnectionStart)+"ms)"),window.logData.tcp=q.connectEnd-q.connectStart):(console.info("[system]","tcp:",q.connectEnd-q.connectStart+"ms"),window.logData.tcp=q.connectEnd-q.connectStart)),q.responseStart&&q.requestStart&&(console.info("[system]","request:",q.responseStart-q.requestStart+"ms"),window.logData.request=q.responseStart-q.requestStart),q.responseEnd&&q.responseStart&&(console.info("[system]","response:",q.responseEnd-q.responseStart+"ms"),window.logData.response=q.responseEnd-q.responseStart),q.domComplete&&q.domLoading&&(q.domContentLoadedEventStart&&q.domLoading?console.info("[system]","domComplete (domLoaded):",q.domInteractive-q.domLoading+"ms ("+(q.domContentLoadedEventStart-q.domLoading)+"ms)"):console.info("[system]","domComplete:",q.domInteractive-q.domLoading+"ms")),window.logData.domComplete=q.domInteractive-q.domLoading,q.loadEventEnd&&q.loadEventStart&&(console.info("[system]","loadEvent:",q.loadEventEnd-q.loadEventStart+"ms"),window.logData.loadEvent=q.loadEventEnd-q.loadEventStart),q.navigationStart&&q.loadEventEnd&&(console.info("[system]","total (DOM):",q.loadEventEnd-q.navigationStart+"ms ("+(q.domComplete-q.navigationStart)+"ms)"),window.logData.total=q.loadEventEnd-q.navigationStart);var m=new XMLHttpRequest;m.open("POST","https://webqos.api.zaloapp.com/qos",!0),m.setRequestHeader("Content-type","application/x-www-form-urlencoded"),m.send(toQuery(window.logData))}},0)}window.addEventListener("load",function(){printSystemInfo()}),window.addEventListener("error",function(c){var d={prj:window.zprj,message:c.message,filename:c.filename,lineno:c.lineno,colno:c.colno};if(d.message&&null!=d.message&&"Script error."!=d.message&&!(d.message.includes("onScreenPaused")||d.message.includes("onScreenResumed")||d.message.includes("webviewInvisible"))){var f=new XMLHttpRequest;f.open("POST","https://webqos.api.zaloapp.com/err",!0),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.send(toQuery(d))}});